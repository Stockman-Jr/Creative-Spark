{% extends "base.html" %}
{% load static %}
{% block content %}
<!--PROFILE NAVIGATION-->
<div class="d-flex flex-row flex-shrink-0 p-3 text-white user-nav">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <span class="fs-4 card-avatar align-middle"> 
            <img src="{{ p_user.profile.image.url }}" alt="" srcset="">
            {{ p_user.username }}'s Profile
        </span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-row mb-auto pill-color">
        {% if '/users/' in request.path %}
            <li>
                <a href="{% url 'user_profile' p.slug %}" class="nav-link ">
                    Post Gallery
                </a>
            </li>
            <li class="active">
                <a href="{% url 'favourite_list' p.slug %}" class="nav-link ">
                    Favourites Gallery
                </a>
            </li>
        {% elif '/my-profile/' in request.path %}
            <li>
                <a href="{% url 'my_profile' %}" class="nav-link  ">
                    Post Gallery
                </a>
            </li>
            <li class="active">
                <a href="{% url 'my_favourites' %}" class="nav-link ">
                    Favourites Gallery
                </a>
            </li>
        {% endif %}
    </ul>
    <hr>
</div>

<!--FAVOURITES GALLERY-->
{% if '/users/' in request.path %}
    <h4 class="text-center mt-4"> {{ p_user.username }}'s favourites: </h4>
{% elif '/my-profile/' in request.path %}
    <h4 class="text-center mt-4"> Your favourites: </h4>
{% endif %}
<div class="container-fluid d-flex justify-content-center mt-4 user-gallery">
    <div class="post-gallery">
        {% for post in faves %}
            <div class="post-wrapper mb-3 text-center">
                <img class="img-fluid artwork" src="{{ post.image_post.url }}" class="card-img-top post-detail" alt="">
                <div class="card-footer post-info">
                    <div class="info-text">
                        <p>Created by: {{ post.author }}</p>
                        <p>Challenge: {{ post.challenge.challenge_prompt }}</p>
                        <span>Likes: {{ post.likes.count }}</span>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>


{%endblock%}